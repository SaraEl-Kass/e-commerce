<div class="signup-container">
  <div class="signup-content">
    <div class="brand">
      NM.<span class="highlight">H</span>
    </div>
    <h1 class="title">Create an account</h1>
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="firstname">First Name*</label>
        <input id="firstname" formControlName="firstname" type="text" placeholder="Enter your first name" />
        <div *ngIf="signupForm.get('firstname')?.invalid && signupForm.get('firstname')?.touched" class="error">
          First name is required.
        </div>
      </div>
      <div class="form-group">
        <label for="lastname">Last Name*</label>
        <input id="lastname" formControlName="lastname" type="text" placeholder="Enter your last name" />
        <div *ngIf="signupForm.get('lastname')?.invalid && signupForm.get('lastname')?.touched" class="error">
          Last name is required.
        </div>
      </div>
      <div class="form-group">
        <label for="email">Email*</label>
        <input id="email" formControlName="email" type="email" placeholder="Enter your email" />
        <div *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched" class="error">
          Valid email is required.
        </div>
      </div>
      <div class="form-group">
        <label for="password">Password*</label>
        <input id="password" formControlName="password" type="password" placeholder="Create a password" />
        <div *ngIf="signupForm.get('password')?.invalid && signupForm.get('password')?.touched" class="error">
          Password must be at least 8 characters.
        </div>
        <small class="hint">Must be at least 8 characters</small>
      </div>
      <div class="form-group">
        <label for="admin">Sign up as Admin</label>
        <input id="admin" type="checkbox" formControlName="isAdmin" />
      </div>
      <button type="submit" [disabled]="signupForm.invalid">Create account</button>
    </form>
    <div class="login-link">
      Already have an account? <a [routerLink]="['/login']">Log in</a>
    </div>
  </div>
  <div class="signup-banner">
    <p>Good things are coming your way!</p>
  </div>
</div>

<div class="overlay" *ngIf="(loading$ | async)">
  <app-loading-spinner></app-loading-spinner>
</div>
<div class="error-overlay" *ngIf="(error$ | async) as error">
  <div class="error-message">{{ error }}</div>
</div>
